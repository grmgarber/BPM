<%= form_for @book do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %>
  <%= errors_for @book, :title %>
  <br/>
  <%= f.label :release_date %>
  <%= f.date_field :release_date %>
  <%= errors_for @book, :release_date %>
  <br/>
  <%= f.label :price %>
  <%= f.text_field :price %>
  <%= errors_for @book, :price %>
  <br/>
  <%= f.label :format %>
  <%= f.select :format, options_from_collection_for_select(@formats, :id, :name, @book.format_id) %>
  <br/>
  <%= label_tag :author_search, 'Add Author' %>
  <%= text_field_tag :author_search, '',
                     id: 'author-search',
                     placeholder: "Enter 3+ consecutive letters anywhere in the authors's name" %>
  <br/>
  <%= label_tag 'Authors:' %>
  <%= errors_for @book, :authors %>
  <ul id="authors">
  </ul>
  <%= hidden_field_tag :author_ids, id: 'author_ids' %>
  <%= f.submit 'Save' %>
<% end %>
<%= hidden_field_tag :book_authors, @book_authors.to_json, id: 'book-authors' %>
